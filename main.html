<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>LOLConnect</title>
  <link href="https://fonts.googleapis.com/css2?family=Tajawal:wght@400;700&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
  <style>
    :root{
      --bg: #0d1117;
      --text: #eee;
      --accent: #00eaff;
      --card-bg: #0f1620;
      --muted: #cfcfcf;
    }
    /* light theme variables */
    .light-theme{
      --bg: #ffffff;
      --text: #0b0b0b;
      --accent: #00a3ff;
      --card-bg: #f5f7fa;
      --muted: #666;
    }

    html,body{height:100%;}
    body {
      margin: 0;
      font-family: 'Tajawal', sans-serif;
      background-color: var(--bg);
      color: var(--text);
      scroll-behavior: smooth;
      position: relative;
      overflow-x: hidden;
      cursor: url('images/custom-cursor.png'), auto;
      transition: background 0.25s ease, color 0.25s ease;
    }

    /* language box */
    .lang-box {
      position: fixed;
      top: 14px;
      left: 14px;
      background: #000;
      border: 1px solid rgba(255,255,255,0.06);
      border-radius: 10px;
      padding: 6px;
      display: flex;
      gap: 6px;
      z-index: 1003;
      align-items: center;
    }
    .lang-btn {
      background: transparent;
      color: #fff;
      border: none;
      padding: 6px 10px;
      cursor: pointer;
      border-radius: 8px;
      font-weight: 700;
      display: flex;
      gap: 6px;
      align-items: center;
    }
    .lang-btn.active { outline: 2px solid var(--accent); }

    /* theme toggle button */
    .theme-toggle {
      position: fixed;
      top: 20px;
      right: 20px;
      background: var(--accent);
      color: var(--bg);
      padding: 10px 15px;
      border-radius: 8px;
      cursor: pointer;
      z-index: 1002;
      font-weight: bold;
      box-shadow: 0 2px 6px rgba(0,0,0,0.15);
      transition: background 0.25s;
    }
    .theme-toggle:hover { filter: brightness(.95); }

    .matrix { position: fixed; top:0; left:0; width:100%; height:100%; background: black; z-index:-2; }
    canvas { display:block; }

    .smoke {
      position: absolute; top:0; left:0; width:100%; height:100%;
      background: url('images/smoke.gif') center center / cover no-repeat;
      opacity: 0.06; z-index:0; pointer-events: none; transition: opacity .25s;
    }

    .whatsapp-float {
      position: fixed; bottom: 20px; left: 20px;
      background-color: #25D366; color: white; border-radius: 50%;
      width: 55px; height: 55px; display: flex; justify-content: center;
      align-items: center; font-size: 26px; box-shadow: 0 2px 10px rgba(0,0,0,0.3);
      z-index: 1001; text-decoration: none;
    }

    .main-container {
      display: flex; flex-direction: column; align-items: center; justify-content: center;
      height: 100vh; z-index: 1; position: relative;
    }

    .section-link {
      background-color: var(--accent);
      color: var(--bg);
      padding: 20px; text-align: center; font-size: 20px; font-weight: bold;
      margin: 20px auto; border-radius: 10px; max-width: 400px; cursor: pointer;
      transition: transform 0.4s ease, background 0.3s; box-shadow: 0 5px 10px rgba(0,0,0,0.08);
      text-decoration: none; display: block;
    }
    .section-link:hover { transform: perspective(500px) rotateX(15deg); box-shadow: 0 0 20px rgba(0,0,0,0.08); }

    .social-links { text-align: center; margin: 30px auto; }
    .social-links a { margin: 0 15px; font-size: 26px; color: var(--accent); transition: .25s; }
    .social-links a:hover { transform: translateY(-3px); }

    /* small screens */
    @media (max-width: 480px) {
      .lang-box { top:10px; left:10px; }
      .theme-toggle { top:10px; right:10px; padding:8px 10px; }
    }
  </style>
</head>
<body>
  <div class="matrix"><canvas id="matrix"></canvas></div>
  <div class="smoke" id="smoke"></div>

  <!-- language selector -->
  <div class="lang-box" role="navigation" aria-label="language switcher">
    <button class="lang-btn btn-ar" data-lang="ar">🇪🇬 العربية</button>
    <button class="lang-btn btn-en" data-lang="en">🇬🇧 English</button>
  </div>

  <!-- theme toggle (text is set from JS so it's translated correctly) -->
  <button class="theme-toggle" id="themeToggle">الوضع الليلي</button>

  <a href="https://wa.me/201105318814" class="whatsapp-float" target="_blank">💬</a>

  <div class="main-container">
    <a class="section-link" href="services.html" data-i18n="services">خدماتنا</a>
    <a class="section-link" href="store.html" data-i18n="store">المتجر</a>
    <a class="section-link" href="contact.html" data-i18n="contact">تواصل معنا</a>

    <div class="social-links">
      <a href="https://www.facebook.com/share/1ACaqk6onW/" target="_blank"><i class="fab fa-facebook-square"></i></a>
      <a href="https://www.instagram.com/alilo.l10?igsh=MWVvMTkwb251N2Nncw==" target="_blank"><i class="fab fa-instagram"></i></a>
      <a href="https://www.tiktok.com/@loll_connect?_t=ZS-8xr3H4VdhlC&_r=1" target="_blank"><i class="fab fa-tiktok"></i></a>
    </div>
  </div>

  <script>
    /* ---------- translations (i18n) ---------- */
    const translations = {
      ar: {
        enable_dark: "تفعيل الوضع الليلي",
        enable_light: "تفعيل الوضع النهاري",
        services: "خدماتنا",
        store: "المتجر",
        contact: "تواصل معنا",
        dir: "rtl"
      },
      en: {
        enable_dark: "Enable Dark Mode",
        enable_light: "Enable Light Mode",
        services: "Our Services",
        store: "Store",
        contact: "Contact Us",
        dir: "ltr"
      }
    };

    /* ---------- language switching ---------- */
    const btnAr = document.querySelector('.btn-ar');
    const btnEn = document.querySelector('.btn-en');

    function applyTranslations(lang){
      const t = translations[lang] || translations.ar;
      document.documentElement.lang = lang;
      document.documentElement.dir = t.dir;
      document.querySelectorAll('[data-i18n]').forEach(el=>{
        const key = el.getAttribute('data-i18n');
        if(t[key]) el.textContent = t[key];
      });
      document.querySelectorAll('.lang-btn').forEach(b => b.classList.remove('active'));
      (lang === 'ar' ? btnAr : btnEn).classList.add('active');
      localStorage.setItem('site_lang', lang);
      // update theme button label according to current theme
      updateThemeButtonText();
    }

    document.querySelectorAll('.lang-btn').forEach(b=>{
      b.addEventListener('click', ()=> applyTranslations(b.dataset.lang));
    });

    /* ---------- theme handling (dark / light) ---------- */
    const themeToggle = document.getElementById('themeToggle');

    function setTheme(theme){ // theme = 'dark' or 'light'
      if(theme === 'light') document.body.classList.add('light-theme');
      else document.body.classList.remove('light-theme');
      localStorage.setItem('site_theme', theme);
      updateThemeButtonText();
    }

    function updateThemeButtonText(){
      const lang = localStorage.getItem('site_lang') || 'ar';
      const t = translations[lang] || translations.ar;
      const currentTheme = localStorage.getItem('site_theme') || 'dark';
      // show action that will happen when clicked
      themeToggle.textContent = (currentTheme === 'dark' ? t.enable_light : t.enable_dark);
    }

    function toggleTheme(){
      const current = localStorage.getItem('site_theme') || 'dark';
      const next = (current === 'dark') ? 'light' : 'dark';
      setTheme(next);
    }

    themeToggle.addEventListener('click', toggleTheme);

    // load saved language & theme (defaults)
    const savedLang = localStorage.getItem('site_lang') || 'ar';
    applyTranslations(savedLang);
    const savedTheme = localStorage.getItem('site_theme') || 'dark';
    setTheme(savedTheme);

    /* ---------- matrix background (responsive & safe) ---------- */
    (function(){
      const canvas = document.getElementById("matrix");
      if(!canvas) return;
      const ctx = canvas.getContext("2d");
      let fontSize = 16;
      let cols = 0;
      let drops = [];

      function resize(){
        canvas.width = window.innerWidth || document.documentElement.clientWidth;
        canvas.height = window.innerHeight || document.documentElement.clientHeight;
        cols = Math.floor(canvas.width / fontSize);
        drops = new Array(cols).fill(1);
      }
      window.addEventListener('resize', resize);
      resize();

      const letters = "01ABCDEFGHIJKLMNOPQRSTUVWXYZ";
      function draw(){
        ctx.fillStyle = "rgba(0, 0, 0, 0.06)";
        ctx.fillRect(0, 0, canvas.width, canvas.height);
        // if light theme, use darker matrix; if dark, use cyan
        const theme = localStorage.getItem('site_theme') || 'dark';
        ctx.fillStyle = (theme === 'light') ? "#006b99" : "#00eaff";
        ctx.font = fontSize + "px monospace";
        for(let i=0;i<drops.length;i++){
          const text = letters[Math.floor(Math.random() * letters.length)];
          ctx.fillText(text, i * fontSize, drops[i] * fontSize);
          if(drops[i] * fontSize > canvas.height && Math.random() > 0.975) drops[i] = 0;
          drops[i]++;
        }
        requestAnimationFrame(draw);
      }
      requestAnimationFrame(draw);
    })();
  </script>
</body>
</html>
